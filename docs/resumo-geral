Sumário Executivo: Heroes of Majesty - The Legacy
1. Visão Geral e Filosofia de Design
• 1.1. O Monarca Indireto: A filosofia de "observar mais do que comandar".
• 1.2. O Efeito Aquário: Criando uma simulação viva e reativa em tempo real.
• 1.3. Pilares de Diversão: Imprevisibilidade, agência indireta e narrativa emergente.
• 1.4. Estética Tabletop: A transição para a interface de mesa, materiais e atmosfera.
2. Interface e Experiência do Usuário (UI/UX)
• 2.1. A Mesa Real: Organização diegética e visualização de "Vigilância Visual".
• 2.2. O Mapa Hexagonal: O hexágono como contêiner de múltiplos eventos e entidades.
• 2.3. O Espelho Mágico: Sistema de foco automático (Câmera do Diretor) na ação crítica.
• 2.4. A Timeline Social: O feed de eventos em estilo de rede social medieval.
• 2.5. Pausa Tática (Active Pause): Interrompendo o tempo para emitir decretos.
3. Arquitetura de IA Híbrida: O Cérebro do Reino
• 3.1. IA de Utilidade (Utility AI): Tomada de decisão estratégica e o "O Quê" fazer.
    ◦ 3.1.1. Curvas de Resposta: Como a personalidade altera o peso das ações.
• 3.2. Árvores de Comportamento (BT): Execução tática e o "Como" fazer.
• 3.3. Máquinas de Estados Finitos (FSM): Estados de animação e estados macro (Aventureiro vs. Guarda).
• 3.4. Processamento de Linguagem Natural (NLP): A ponte entre o chat do jogador e os comandos do jogo.
4. Os Heróis: Agentes Autônomos e Complexos
• 4.1. Estrutura de Dados do Herói: Personalidade, memórias e afinidades.
• 4.2. Dicionário de Traços: Coragem, Ganância, Lealdade, Ética e Arrogância.
• 4.3. Classes de Heróis: Guerreiros, Magos, Arqueiros e Ladinos (Especialidades e Vieses).
• 4.4. Ciclo de Vida e Morte: O impacto de perder um herói precioso (limite de 12 unidades).
• 4.5. Sistema de Progressão: Ganho de XP, subida de nível e aquisição de habilidades.
5. Dinâmica Social e "Dança de Egos"
• 5.1. Formação de Grupos: Lógica de afinidade e formação de grupos de até 3 membros.
• 5.2. Conflitos Internos:
    ◦ 5.2.1. Kill Stealing (KS): O gatilho para a fúria e rivalidades.
    ◦ 5.2.2. Combate PvP: Motivações sociais e a perda drástica de equipamentos.
    ◦ 5.2.3. Flag Vermelha (pvp_flag): O sistema de justiça orgânico do reino.
• 5.3. A Redenção do Guarda: O processo de reerguimento de heróis derrotados.
• 5.4. Amizades e Atos Heroicos: Proteção coordenada e compartilhamento de recursos.
• 5.5. Mercado Ambulante: Heróis negociando e vendendo itens entre si.
6. O Conselheiro Real de IA
• 6.1. Identidade e Presença: O NPC físico e seu papel como interlocutor.
• 6.2. Chat Interativo: Comandos em linguagem natural e interpretação de intenções.
• 6.3. Personalidades do Conselheiro: O impacto do temperamento (Cético, Otimista, Burocrático) nas respostas.
• 6.4. Proatividade e Espionagem: Sugestões estratégicas e venda de informações (confiabilidade variável).
• 6.5. O Cronista: A função de narrar eventos e alertar sobre "comportamentos anormais".
7. Economia e Gestão do Reino
• 7.1. O Tesouro Real: Ciclo de ganho de ouro via consumo dos heróis nas lojas.
• 7.2. Curadoria de Habilidades: O custo exponencial de disponibilizar novas skills para as classes.
• 7.3. Gestão de Estoques e Salários: Reabastecimento de poções e pagamento de guardas.
• 7.4. Decretos Reais: Buffs/Debuffs globais com efeitos colaterais aleatórios.
8. O Mundo Procedural e Ciclos de Mudança
• 8.1. A Névoa de Guerra Pessoal: Visão limitada ao que os súditos e construções veem.
• 8.2. Ciclos Temporais: Os 3 grandes ciclos de 50 dias e a progressão de dificuldade.
• 8.3. O Castelo Amaldiçoado: A mecânica de endgame e a eleição do "Rei Vilão".
• 8.4. Ciclo Dia/Noite: Monstros noturnos e o debuff de escuridão.
• 8.5. Eventos Globais e Catástrofes: Terremotos, fendas mágicas e ondas de invasão.
9. Mecânicas Avançadas de Expansão
• 9.1. Postos Avançados:
    ◦ 9.1.1. Fundação: O sacrifício de 3 heróis e a nomeação de um Capitão.
    ◦ 9.1.2. Autonomia do Capitão: O vassalo que gere sua própria micro-economia.
    ◦ 9.1.3. Mudança de Capital: Uma manobra estratégica irreversível e permanente.
• 9.2. Traição e Facções Inimigas:
    ◦ 9.2.1. O Herói Corrompido: Quando um herói se volta contra o reino (Influência de Vilões).
    ◦ 9.2.2. A Colônia Rebelde: Três heróis fundando uma colônia inimiga autônoma.
10. Narrativa Emergente e Legado
• 10.1. Crônicas do Reino: A geração procedural da "revistinha" ou HQ ilustrada ao final da partida.
• 10.2. Sonhos e Sussurros: Vislumbrando os pensamentos internos dos heróis via IA.
• 10.3. Títulos e Epítetos Dinâmicos: Fama conquistada através de feitos (ex: "O Matador de Ogros").
• 10.4. Modo Historiador (Replay): Analisando o passado com visão onisciente e filtros de memória.
• 10.5. Ecos do Passado: Itens lendários e referências a heróis de partidas anteriores.
11. Modos Multiplayer: A Batalha de Influências
• 11.1. A Aliança dos Reinos Indiretos (Co-op): Coordenação indireta, grupos mistos e "fofoca" entre conselheiros.
• 11.2. A Guerra das Influências (PvP):
    ◦ 11.2.1. Recompensas Ofensivas: Colocando ouro pela cabeça de heróis rivais.
    ◦ 11.2.2. Sabotagem Psicológica: Explorando o caos social do oponente (alvos com flag de pvp).
• 11.3. Mestre da Masmorra vs. Lorde do Reino: O desafio assimétrico de controle indireto.

===

Esta seção detalha a Visão Geral e a Filosofia de Design de Heroes of Majesty: The Legacy, estabelecendo os pilares fundamentais que regem a experiência do jogador como um monarca que influencia um reino autônomo e vivo.

1.1. O Monarca Indireto: A Filosofia de "Observar mais do que Comandar"
A essência do jogo reside no controle indireto. O jogador não é um general microgerenciando unidades, mas sim um monarca que atua como o "jardineiro de um ecossistema vivo". Você planta as sementes e fertiliza o solo, mas as flores (os heróis) crescem e agem por conta própria.
• Influência, não Comando: O jogador molda o destino do reino através de decisões estratégicas e não por cliques em unidades.
• Ferramentas de Poder: A soberania é exercida através de:
    ◦ Recrutamento seletivo: Escolher quais classes e personalidades atrair para o reino.
    ◦ Infraestrutura: Construir guildas, lojas e torres para prover suporte e guiar o comportamento dos heróis.
    ◦ Recompensas (Bounties): Colocar ouro em alvos ou áreas para incentivar a ação autônoma dos heróis.
    ◦ Conselheiro de IA: Interagir via chat em linguagem natural para delegar ordens e pedidos sociais.
1.2. O Efeito Aquário: Criando uma Simulação Viva e Reativa em Tempo Real
O mundo de Heroes of Majesty funciona como um organismo pulsante onde o tempo não para. Este "Efeito Aquário" garante que a vida no reino continue acontecendo simultaneamente, mesmo em áreas fora da visão do jogador.
• Fluxo Contínuo: O jogo roda em tempo real assistível, onde cada evento gera uma cadeia de causa e efeito imediata.
• Reatividade Orgânica: Se um herói derrota um monstro perto de uma vila, a segurança aumenta e outros heróis mudam suas rotas de patrulha.
• Cérebro Autônomo: Cada entidade é regida por uma Máquina de Estados Finitos (FSM), garantindo que estejam sempre focadas em uma tarefa lógica (explorar, atacar, fugir, descansar) sem necessidade de input manual.
• Ciclos Temporais: A progressão é marcada por 3 grandes ciclos de 50 dias, onde biomas, estações e a dificuldade dos monstros são drasticamente alterados.
1.3. Pilares de Diversão: Imprevisibilidade, Agência Indireta e Narrativa Emergente
A diversão do jogo não vem da execução motora rápida, mas sim da satisfação intelectual de guiar um sistema complexo e imperfeito.
• Imprevisibilidade (O Tempero da IA): Traços de personalidade como ganância, coragem e ética fazem com que os heróis tomem decisões inesperadas, como um ladino que ignora um combate para saquear um baú ou um guerreiro covarde que foge cedo demais.
• Narrativa Emergente: Histórias épicas, cômicas ou dramáticas surgem naturalmente das interações sociais, como Kill Stealing (KS), rivalidades por títulos e resgates heroicos entre amigos.
• Legado Tangível: Ao final de cada partida, os logs de eventos são transformados em uma "Crônica do Reino" ilustrada (PDF), eternizando a saga única daquela sessão.
• Pausa Tática: O jogador pode congelar o tempo (Pausa Ativa) para analisar logs, dossiês de heróis e emitir decretos com calma antes de soltar o caos novamente.
1.4. Estética Tabletop: A Transição para a Interface de Mesa e Atmosfera
O projeto abandonou o estilo RTS tradicional para se tornar uma Simulação de Estratégia de Mesa (Tabletop Simulation), focando na imersão diegética.
Elemento Estético
    
Descrição e Impacto
A Mesa Real
    
O jogador está sentado em uma mesa de trabalho física, olhando para um mapa vivo e relatórios em pergaminho.
Mapa Hexagonal
    
O mundo é dividido em hexágonos que funcionam como contêineres para heróis, monstros e masmorras.
Tokens e Bustos
    
Heróis e monstros são representados por tokens 2D de alta qualidade, com animações de "respiração" e reações visuais ao dano.
Iluminação Atmosférica
    
Simulação de luz de velas que tremula sobre a mesa, com cores que mudam dinamicamente conforme o ciclo dia/noite.
Materiais Premium
    
A interface utiliza texturas de madeira pesada, ferro batido, cera de lacre e pergaminhos envelhecidos.
Esta abordagem estética prioriza a profundidade da IA e o texto narrativo em detrimento de animações físicas complexas, permitindo uma simulação muito mais rica e performática dentro da Godot Engine.

===

A interface e a experiência do usuário de Heroes of Majesty: The Legacy foram projetadas sob o paradigma da "Mesa Real de Estratégia". O objetivo é transformar a UI em uma experiência diegética, onde o jogador não apenas navega em menus, mas interage com objetos na mesa de trabalho de um monarca.
Abaixo, detalho cada componente do sistema de UI/UX conforme planejado:

--------------------------------------------------------------------------------
2.1. A Mesa Real: Organização Diegética e Vigilância Visual
A interface simula o ambiente físico de um soberano, utilizando materiais como madeira pesada, pergaminho envelhecido e cera de lacre, iluminados por uma luz de velas dinâmica que reage ao ciclo dia/noite.
• Vigilância Visual: Para manter o mapa "vivo" sem microgerenciamento, o sistema utiliza indicadores visuais diretos no tabuleiro.
    ◦ Balões de Fala: Diálogos entre heróis aparecem sobre os hexágonos (ex: "Socorro!" ou "Isso é meu!").
    ◦ Emotes de Status: Hexágonos em combate piscam em vermelho ou tremem; ícones de moedas voando indicam transações comerciais.
    ◦ Trilhas: Pegadas e rastros de poeira indicam visualmente a direção do movimento de grupos.
2.2. O Mapa Hexagonal: O Hexágono como Contêiner
Diferente de um RTS tradicional, o mundo é dividido em hexágonos que funcionam como sub-mapas ou contêineres.
• Capacidade do Contêiner: Um único hexágono pode conter simultaneamente múltiplas entidades, como 3 heróis, 2 monstros, 1 NPC e uma masmorra.
• Movimento Abstrato: O deslocamento entre hexágonos é simulado através de ícones (tokens) que fazem fade-out no ponto de origem e fade-in no destino após o tempo de viagem calculado.
• Visibilidade: O jogador é limitado pela Névoa de Guerra Pessoal, vendo apenas o que seus súditos e construções iluminam no mapa.
2.3. O Espelho Mágico (Câmera do Diretor)
Localizado no canto superior direito da tela, o Espelho Mágico é uma janela de visualização permanente que exibe a ação em detalhes.
• Auto-Focus (Modo Automático): A câmera corta automaticamente para a ação mais crítica do momento, seguindo uma hierarquia de prioridade:
    1. Morte de Herói ou evento crítico.
    2. Combate contra Chefes.
    3. Início de Combate PvP (Kill Steal).
    4. Fofocas e interações sociais.
• Modo Manual: O jogador pode clicar em qualquer hexágono ou card de evento para "travar" a visão do espelho naquele local.
2.4. A Timeline Social (Feed Medieval)
Posicionada abaixo do Espelho Mágico, a Timeline substitui o log de texto tradicional por um formato de rede social medieval.
• Cards de Eventos: Cada ação (ex: "Gandalf comprou Poção de Mana") gera um card visual com a foto do herói e um ícone de ação.
• Interatividade: Ao clicar em um card, o Espelho Mágico mostra instantaneamente o replay ou a cena ao vivo daquele evento específico.
• Historiador (Replay): No modo de replay, esta área se transforma em um Pergaminho do Tempo, permitindo navegar por capítulos e eventos históricos da partida.
2.5. Pausa Tática (Active Pause)
Apesar da simulação ocorrer em tempo real, o jogador possui controle total sobre o fluxo do tempo através da tecla ESPAÇO.
• Congelamento do Mundo: Ao pausar, o mundo assume um efeito visual de "tempo parado".
• Ações de Comando: Durante a pausa, o monarca pode ler logs detalhados, verificar o dossiê de personalidade dos heróis e emitir Decretos Reais ou Recompensas (Bounties).
• Estratégia: Esta ferramenta permite gerenciar o caos de até 12 heróis autônomos sem a pressão da velocidade de clique.

===

A arquitetura de IA de Heroes of Majesty: The Legacy é um sistema híbrido projetado para que os comportamentos dos heróis e do reino não pareçam robóticos, mas sim orgânicos e imprevisíveis. Ela funciona como uma "caixa de ferramentas" onde cada técnica é aplicada para resolver um problema específico: a tomada de decisão, a execução de tarefas, o controle de animações e a comunicação com o jogador.
Abaixo estão os detalhes dos quatro pilares dessa arquitetura:

--------------------------------------------------------------------------------
3.1. IA de Utilidade (Utility AI): Tomada de Decisão Estratégica
A IA de Utilidade é o coração do cérebro do herói e responde à pergunta: "O que fazer agora?". Em vez de seguir caminhos fixos, o herói avalia todas as opções disponíveis e escolhe a que possui a maior pontuação de "utilidade" no momento.
• Considerações: São fatores que influenciam o desejo do herói (ex: Vida Atual, Distância do Alvo, Ganância, Nível de Ameaça). Cada fator retorna um valor entre 0.0 e 1.0.
• Cálculo de Pontuação: A pontuação final de uma ação é geralmente a multiplicação de todas as suas considerações. Se o valor de uma consideração for zero (ex: um herói covarde com vida muito baixa), a pontuação total da ação de ataque será zero, descartando-a imediatamente.
• Curvas de Resposta (Personalidade): É o que define a individualidade de cada herói. Um Herói Corajoso tem uma curva que mantém a pontuação de ataque alta mesmo com 30% de vida, enquanto um Herói Covarde tem uma queda abrupta na pontuação assim que sofre o primeiro dano.
3.2. Árvores de Comportamento (BT): Execução Tática
Uma vez que a IA de Utilidade decide "o quê" fazer (ex: "Atacar o Covil"), a Árvore de Comportamento assume para definir "como" fazer.
• Fluxograma Hierárquico: Funciona como uma sequência de nós (Sequence, Selector, Action, Condition) que organiza a execução técnica.
• Exemplo de Lógica: Para atacar um covil, a BT verifica se há inimigos no caminho (Condição), decide se deve desviar para lutar (Seletor) e executa o movimento ou o ataque (Ação).
• Aplicações: É utilizada para lógicas de combate complexas (posicionamento de magos), navegação e comportamentos sociais na cidade, como negociação entre heróis.
3.3. Máquinas de Estados Finitos (FSM): Estados Macro e Animação
A FSM gerencia em qual estado exclusivo a entidade se encontra no momento. Um herói não pode "atacar" e "fugir" ao mesmo tempo; ele transita entre estados baseados em regras simples.
• Estados Macro: Define o papel atual do herói no mundo, como AVENTUREIRO, GUARDA (quando está se recuperando de uma derrota PvP) ou DERROTADO.
• Animação: Controla se o token do herói está no estado ocioso, caminhando ou em combate.
• Objetos: Também é aplicada a construções, que podem estar nos estados OPERACIONAL ou DESTRUÍDO.
3.4. Processamento de Linguagem Natural (NLP): A Ponte de Comunicação
O NLP é o sistema que permite a "Conversa com o Reino" através do Conselheiro Real. Ele traduz o que o jogador digita em linguagem natural para comandos que o código do jogo entende.
• Extração de Intenção: Se o jogador digita "coloque 500 de ouro de recompensa no dragão", o NLP identifica a intenção (criar_recompensa) e as entidades (valor: 500, alvo: dragão).
• Uso de LLMs (GPT/Gemini): O jogo envia o texto do jogador para uma API de IA junto com o contexto do reino. A IA retorna tanto a resposta textual do Conselheiro (carregada de sua personalidade sarcástica ou bajuladora) quanto a estrutura de dados para executar a ação no motor Godot.

===

Os heróis em Heroes of Majesty: The Legacy não são unidades passivas, mas agentes autônomos e complexos que formam uma sociedade simulada, descrita como uma "dança de egos e lealdades". Eles operam sob um sistema de controle indireto, onde o jogador influencia suas ações sem comandá-los diretamente, tornando a observação de seus comportamentos a "alma do jogo".
Abaixo, detalho todos os aspectos que compõem os heróis no sistema:
4.1. Estrutura de Dados e o "Cérebro" do Herói
Cada herói possui um "cérebro" híbrido que combina IA de Utilidade para decisões estratégicas e Árvores de Comportamento para execução tática. Sua estrutura de dados interna é composta por:
• Personalidade: Um dicionário de traços numéricos que modula todas as decisões.
• Relacionamentos: Um mapa de afinidade com outros heróis (amigo, neutro ou inimigo).
• Memórias: Uma lista de eventos significativos, como ter sido salvo por alguém ou ter tido uma "kill" roubada (KS).
• Estado Atual: Registros de vida, mana, inventário, ouro e moral.
• Background Procedural: Uma história de origem gerada por IA que justifica seus traços de personalidade (ex: um herói é "covarde" devido a um trauma de infância).
4.2. Dicionário de Traços de Personalidade
Os traços funcionam como curvas de resposta que definem como o herói "sente" o mundo. Os principais traços são:
• Coragem: Define o limiar de fuga; um herói corajoso luta até quase morrer, enquanto um covarde foge ao primeiro sinal de perigo.
• Ganância: Aumenta a prioridade por tesouros e recompensas de ouro, podendo fazer o herói ignorar perigos.
• Lealdade: Afeta a disposição para ajudar aliados e a resposta a decretos reais.
• Ética (Moral, Neutro ou Imoral): Molda decisões sociais; heróis morais ajudam os outros, enquanto imorais podem cometer Kill Stealing (KS) ou ignorar aliados em perigo.
• Arrogância: Pode levar o herói a ignorar riscos para provar superioridade ou se recusar a aceitar ajuda.
4.3. Classes de Heróis e Vieses
O monarca escolhe quais classes recrutar, mas cada recrutamento torna o próximo mais caro, exigindo planejamento. As classes principais são:
• Guerreiros: Focados em combate próximo, com maiores limiares de coragem.
• Magos: Atacam à distância, usam escudos de mana e priorizam a compra de poções se a mana estiver baixa.
• Arqueiros: Especialistas em distância com alta prioridade em exploração.
• Ladinos: Ágeis, com alta ganância e predisposição para buscar tesouros ou coletar recursos.
4.4. Dinâmica Social e Formação de Grupos
Os heróis interagem autonomamente de forma rica:
• Grupos (Máx. 3): Heróis com afinidade podem formar grupos coordenados onde o líder dita o alvo e o saque é dividido.
• Conflitos e PvP: Rivalidades por glória ou ética podem levar ao combate entre heróis. O agressor recebe uma Bandeira Vermelha (pvp_flag), permitindo que outros o ataquem sem penalidade.
• Kill Stealing (KS): Heróis gananciosos ou imorais podem roubar o golpe final de um monstro, gerando fúria no herói prejudicado.
4.5. O Ciclo de Vida, Morte e Redenção
O jogo impõe um limite estratégico de 12 heróis, tornando cada unidade preciosa e criando um vínculo emocional com o jogador.
• A Morte e o Drop: Ao morrer em PvP ou contra monstros, o herói perde todo o equipamento e ouro, que ficam no chão como uma pilha de saque.
• A Redenção do Guarda: Após renascer (geralmente em 30 segundos), o herói sem recursos trabalha como guarda da cidade, recebendo um salário fixo até juntar ouro suficiente para comprar novos equipamentos e voltar a ser um aventureiro.
• Trauma e Necromancia: Vilões como Necromantes podem reanimar heróis mortos. Amigos do herói caído podem jurar vingança ou, se forem covardes, ficar traumatizados e se recusar a lutar contra o colega reanimado.
4.6. Sistema de Progressão
Os heróis evoluem através de:
• XP e Nível: Ganham experiência ao derrotar inimigos e explorar, melhorando atributos como vida, ataque e defesa.
• Habilidades: Adquirem skills ativas e passivas que a IA decide quando usar (ex: um guerreiro usa ataque em área se estiver cercado).
• Curadoria de Skills: O Majesty escolhe quais habilidades (de uma lista vasta) estarão disponíveis nas guildas para os heróis comprarem, sendo que cada nova skill liberada custa mais caro.

===

A dinâmica social de Heroes of Majesty: The Legacy é descrita como uma verdadeira "Dança de Egos e Lealdades". Nesta simulação, os heróis não são apenas combatentes, mas agentes sociais cujas interações — desde amizades profundas até rivalidades mortais — emergem organicamente de suas personalidades e do histórico de eventos.
Abaixo, detalhamos os componentes que tornam a vida social do reino explosiva e imprevisível:
5.1. Formação de Grupos: A Afinidade em Campo
Os heróis deixaram de ser unidades solitárias para formar coalizões táticas autônomas.
• Lógica de Convite: A decisão de formar um grupo depende do atributo de Preferência Social (loner, group_oriented ou leader). Um herói com perfil de líder procura aliados próximos e emite um convite interno.
• Limitação e Composição: Os grupos são limitados a no máximo 3 heróis. A aceitação do convite considera a classe (guerreiros preferem magos para suporte), o nível e, principalmente, a afinidade (amizade ou inimizade) entre eles.
• Coordenação Autônoma: Uma vez formado, o líder dita o alvo principal e os membros priorizam protegê-lo e atacar o mesmo inimigo.
5.2. Conflitos Internos: Rivalidades e Justiça
O drama constante surge quando os interesses individuais colidem, podendo escalar para o combate direto.
• Kill Stealing (KS): Heróis com alta ganância e baixa ética podem tentar roubar o "último golpe" de um monstro para garantir o ouro e XP sozinhos. Isso gera uma reação imediata de frustração ou raiva no herói prejudicado.
• Combate PvP: Disputas por glória, choques éticos (um herói moral punindo um imoral) ou vingança por amigos caídos podem iniciar duelos.
• Bandeira Vermelha (pvp_flag): Um herói que ataca outro sem ser provocado recebe uma marca visual de agressor. Isso permite que outros heróis ajam como "justiceiros" e o ataquem sem penalidades.
• Perda Drástica: O perdedor de um PvP perde todo o seu equipamento, dinheiro e poções, que ficam no chão como uma "pilha de saque" disponível para qualquer um coletar.
5.3. A Redenção do Guarda: O Caminho do Reerguimento
A morte ou a derrota total em PvP não significa o fim do herói, mas uma mudança temporária de status.
• Ciclo de Trabalho: Após renascer (geralmente em 30 segundos), o herói sem recursos assume o estado de Guarda da Cidade.
• Salário e Patrulha: Como guarda, ele realiza patrulhas seguras e recebe um salário fixo diário. Ele permanece neste estado até acumular ouro suficiente para recomprar seu equipamento básico e retornar à vida de aventureiro.
5.4. Amizades e Atos Heroicos: A Forja da Lealdade
Atos de bravura e cooperação criam laços que influenciam as partidas futuras e a narrativa.
• Salvamento e Gratidão: Quando um herói intervém para salvar um aliado com vida baixa de um monstro, a relação entre eles pode mudar de "neutro" para "amigo".
• Compartilhamento de Recursos: Heróis com ética moral e alta lealdade podem oferecer poções de seu inventário para amigos em perigo no campo de batalha.
• Vingança Coordenada: Se um herói é derrotado, seus amigos podem abandonar suas tarefas atuais para caçar o agressor, movidos por um sentimento de vingança narrado pelo Conselheiro.
5.5. Mercado Ambulante: Economia Autônoma entre Heróis
Para evitar voltas constantes à cidade, os heróis negociam itens diretamente entre si.
• Processo de Negociação: Um vendedor (com inventário cheio ou item inadequado) propõe uma troca a um comprador interessado.
• Inteligência na Proposta: A negociação segue uma lógica de proposta e contraproposta. Um herói ganancioso fará ofertas baixas, enquanto um herói moral pode dar um "desconto de amigo".
• Decisão Final: O sucesso da venda depende da necessidade real do comprador e da relação social entre os dois.

===

O Conselheiro Real de IA é o coração da experiência de controle indireto em Heroes of Majesty: The Legacy. Ele não é apenas um menu de comandos, mas um NPC físico que atua como o único interlocutor entre você (o Majesty) e o ecossistema autônomo do reino.
Desenvolvido inteiramente na Godot Engine, este sistema utiliza Processamento de Linguagem Natural (NLP) para transformar suas palavras em ações estratégicas.

--------------------------------------------------------------------------------
6.1. Identidade e Presença Física
Diferente de assistentes virtuais comuns, o Conselheiro tem uma existência concreta no mundo do jogo.
• Localização: Ele reside na vila principal, evitando áreas perigosas como a floresta, a menos que seja enviado em uma missão específica.
• Deslocamento: Quando precisa levar uma ordem a heróis distantes, ele utiliza uma montaria para percorrer o mapa.
• Vigilância Visual: Sua presença na tela serve como um lembrete visual do seu poder e da sua conexão com o mundo.
6.2. Chat Interativo e Interpretação de Intenções
A interface de chat transforma o ato de "clicar em botões" em uma conversa com o reino.
• NLP (Processamento de Linguagem Natural): O sistema analisa suas frases para extrair intenções (ex: criar recompensa) e entidades (ex: 500 de ouro, alvo: Ogro).
• Ponte de Comando: O Conselheiro traduz pedidos como "precisamos de mais guerreiros" em comandos técnicos para as guildas iniciarem o recrutamento.
• Influência Social: Você pode pedir a ele para persuadir heróis específicos ou grupos, mas o sucesso depende da lealdade e ética do herói.
6.3. Personalidades do Conselheiro
Cada partida pode apresentar um Conselheiro com um temperamento diferente, o que altera drasticamente a forma como ele interage e executa ordens.
• Cético/Sarcástico: Questiona suas decisões e duvida da competência dos heróis.
• Otimista/Bajulador: Elogia cada ideia sua como genial e incentiva o fervor dos heróis.
• Burocrático: Responde de forma técnica e formal, focando em processos e tempos de resposta.
• Impacto na Execução: A personalidade afeta a probabilidade de ele aceitar certas tarefas arriscadas ou o tom dos relatórios enviados.
6.4. O Cronista e Analista Proativo
O Conselheiro atua como um "Mestre de Jogo", monitorando o estado do reino (GameStore) para mantê-lo informado.
• Relatórios de Batalha: Após combates épicos ou eventos de Kill Stealing (KS), ele narra os momentos-chave destacando a bravura ou a covardia dos envolvidos.
• Sussurros e Necessidades: Ele alerta sobre o que os heróis "sussurram", como a falta de poções ou o desejo por novos equipamentos.
• Lore Dinâmica: Gera histórias e mitologias para locais recém-explorados e criaturas derrotadas, preenchendo o "Livro do Destino".
• Alertas de Anomalia: Avisa se um herói está exibindo comportamentos estranhos para sua personalidade, como um herói corajoso que entra em pânico sem motivo aparente.
6.5. Estratégia, Espionagem e Risco
O uso do Conselheiro envolve decisões táticas de alto risco.
• Incomunicabilidade: Ao enviá-lo em uma missão física, ele fica temporariamente ausente. Nesse período, você perde sua interface de chat e fica "no escuro", sem poder emitir novas influências ou receber alertas críticos.
• Mercado Negro e Espionagem: No modo PvP, ele pode ser usado como espião para obter informações do oponente.
• Confiabilidade Variável: Informações compradas podem ser imprecisas ou falsas, dependendo da sorte e da personalidade do espião, adicionando uma camada de blefe à guerra de inteligência.
• Decretos Reais: Ele implementa políticas globais (ex: foco em ouro), mas avisa que tais ordens podem ter efeitos colaterais aleatórios no ecossistema do reino.

===

A economia e a gestão do reino em Heroes of Majesty: The Legacy são fundamentadas em um ciclo de consumo e reinvestimento, onde o jogador atua como um "empreendedor" para seus heróis. O monarca não coleta recursos diretamente do mapa, mas lucra com a circulação de ouro dentro de sua vila.
Abaixo estão os detalhes do funcionamento econômico e administrativo:
7.1. O Tesouro Real: O Ciclo de Ouro
O Tesouro Real é gerenciado por um sistema de Autoload na Godot Engine e depende inteiramente da atividade autônoma dos heróis.
• Geração de Renda: Os heróis ganham ouro ao derrotar monstros e explorar o mapa. Eles retornam à vila e gastam esse ouro em edifícios, poções e treinamentos. Esse gasto dos heróis é o que compõe a receita do tesouro do jogador.
• Gestão de Escassez: O dinheiro é projetado para ser sempre um recurso limitado, exigindo que o jogador pondere cada investimento para evitar a ruína econômica.
7.2. Curadoria de Habilidades
O jogador não libera todo o arsenal de uma vez; ele atua como um curador estratégico das competências de cada classe.
• Limitação e Seleção: De uma lista vasta (ex: 30 habilidades para guerreiros), o Majesty só pode oferecer um número limitado (ex: 8 habilidades por classe).
• Custo Exponencial: Para disponibilizar uma habilidade para venda nas guildas, o jogador deve pagar um custo inicial que aumenta exponencialmente a cada nova compra.
• Progressão de Nível: Além de liberar a skill, o Majesty deve comprar as melhorias para os níveis 2 e 3 antes que os heróis possam adquiri-las.
7.3. Gestão de Estoques e Salários
A manutenção do reino exige gastos fixos e logísticos para manter a vila operacional.
• Salários dos Guardas: Um timer debita automaticamente o salário dos guardas da cidade do Tesouro Real.
• Reabastecimento de Itens: Os itens nas lojas, como poções de vida e mana, não são infinitos. O jogador deve gastar ouro para reabastecer os estoques; se o estoque chegar a zero, os heróis não poderão comprar e a economia do reino estagna.
7.4. Decretos Reais e Intervenções
Através do chat com o Conselheiro de IA, o monarca pode emitir políticas temporárias que alteram as regras do reino.
• Buffs e Debuffs Globais: Exemplos incluem o "Decreto de Recrutamento Urgente" (reduz custos de treino) ou "Política de Foco em Ouro" (aumenta a ganância dos heróis).
• O Fator Sorte e Risco: Todo decreto pode ter efeitos colaterais aleatórios, positivos ou negativos, determinados por um rolo de dados interno. O Conselheiro pode avisar sobre esses riscos, adicionando uma camada de incerteza à gestão.
• Intervenções Mágicas: Em momentos críticos, o jogador pode gastar grandes quantias de ouro para lançar feitiços globais, como uma Cura em Massa ou a convocação de espíritos aliados.

===

O Mundo Procedural e os Ciclos de Mudança em Heroes of Majesty: The Legacy compõem um ecossistema dinâmico onde o jogador deve se adaptar a transformações geográficas, climáticas e biológicas constantes. O mundo não é estático; ele respira e evolui através de um sistema de ciclos temporais e eventos imprevisíveis que garantem a rejogabilidade.
Abaixo, detalhamos os mecanismos que regem a evolução do reino:
8.1. A Névoa de Guerra Pessoal (Fog of War)
Diferente de outros jogos de estratégia, o monarca não é onisciente. O mapa começa totalmente oculto e a visibilidade é uma extensão direta da presença de seus súditos.
• Visão Compartilhada: O jogador só consegue ver o que seus heróis e construções (como torres de vigia) estão vendo em tempo real.
• Mecânica Técnica: O sistema utiliza uma "textura de visão" que as unidades pintam para criar áreas de transparência na névoa, revelando monstros, tesouros e o terreno.
• Dependência Estratégica: O Majesty depende fortemente de heróis com o traço espírito explorador para desvendar o desconhecido e identificar ameaças antes que elas cheguem à base.
8.2. Ciclos Temporais: A Progressão dos 150 Dias
A partida é estruturada em 3 grandes ciclos de 50 dias, totalizando 150 dias de simulação (aproximadamente 1 a 3 horas de tempo real).
• Mudança de Paradigma: A cada 50 dias, o jogo dispara um evento de "Mudar Ciclo". Isso altera as tabelas de monstros, o visual do bioma (ex: de floresta para inverno rigoroso) e a lista de eventos globais possíveis.
• Dificuldade Escalonada: Cada ciclo aumenta drasticamente a hostilidade do mundo. Criaturas de ciclos anteriores tornam-se obsoletas, sendo substituídas por ameaças mais fortes e com novas habilidades.
8.3. O Castelo Amaldiçoado e o Rei Vilão
O Castelo Amaldiçoado é a entidade recorrente que ancora a narrativa e o desafio final do jogo.
• Materialização: O castelo materializa-se fisicamente no mapa apenas no início do Ciclo 3.
• Eleição do Rei Vilão: Ao surgir, o castelo "elege" um vilão — possivelmente um inimigo encontrado e não derrotado nos ciclos anteriores — para protegê-lo, tornando-se o chefe final.
• Risco de Endgame: Quanto mais o jogador espera para atacar o castelo (para treinar heróis, por exemplo), mais agressivas e fortes se tornam as hordas de monstros geradas por ele, escalando de forma exponencial.
8.4. Ciclo Dia/Noite e o Debuff de Escuridão
O tempo flui continuamente, e a transição entre dia e noite altera as regras táticas de sobrevivência.
• Monstros Noturnos: À noite, surgem criaturas exclusivas, muito mais fortes, perigosas e agressivas do que as diurnas.
• Penalidade de Visão: Heróis sofrem um debuff de escuridão ao se aventurarem sem luz, o que afeta sua eficácia.
• Sinergia de Iluminação: A sobrevivência noturna exige que heróis usem tochas ou que magos utilizem habilidades de luz para proteger o grupo e manter a visibilidade.
8.5. Eventos Globais e Catástrofes Aleatórias
Um sistema de "Timer Global" dispara eventos de uma lista ponderada, forçando o jogador a reagir a situações emergenciais.
• Desastres Naturais:
    ◦ Terremotos: Podem destruir pontes ou criar novas passagens no mapa, alterando permanentemente as rotas de navegação.
    ◦ Tempestades: Reduzem drasticamente a visibilidade (sight range) de todos os heróis e podem retardar o movimento em certas áreas.
• Interferências Mágicas:
    ◦ Fendas Mágicas: Abrem-se aleatoriamente, liberando ondas de inimigos poderosos e incomuns por tempo limitado.
    ◦ Bosses Globais: O surgimento de criaturas lendárias (como o Dragão da Sombra) é anunciado pelo conselheiro e exige que o reino se mobilize para enfrentá-lo.

===

As Mecânicas Avançadas de Expansão representam o nível mais alto de estratégia e risco em Heroes of Majesty: The Legacy. Elas permitem que o monarca estenda sua influência para além da vila inicial, mas introduzem perigos como a perda definitiva de território e a insurreição de seus próprios campeões.
9.1. Postos Avançados: Expansão e Autonomia Real
A criação de um posto avançado é uma manobra de alto impacto, limitada a apenas uma vez por partida. É uma aposta estratégica onde o Majesty sacrifica a força de sua capital em busca de um domínio maior a longo prazo.
• Fundação e Sacrifício Inicial:
    ◦ O monarca designa um grupo de 3 heróis para uma expedição em um local distante, transferindo uma quantia de ouro para eles.
    ◦ Ao estabelecerem a "Casa do Majesty" no novo local, um dos três heróis é eleito Capitão.
    ◦ O Capitão: Esta designação é permanente. O herói escolhido nunca mais poderá deixar o posto avançado e assume funções administrativas similares às do Majesty.
• Autonomia do Capitão e Diplomacia:
    ◦ O posto avançado funciona como um feudo autônomo. O Capitão recruta seus próprios heróis, constrói edifícios e nomeia seu próprio conselheiro de IA.
    ◦ Economia Independente: Todo o ouro gerado no posto pertence integralmente ao Capitão para gestão local; ele não flui para o tesouro do Majesty.
    ◦ Vassalagem: O Majesty pode enviar pedidos de apoio militar ou comercial via conselheiro, mas o Capitão tem liberdade para recusar se considerar que a segurança do posto está em risco.
• Mudança de Capital:
    ◦ O Majesty pode decidir transferir sua sede oficial para o posto avançado. Esta é uma decisão irreversível.
    ◦ Ao fazer isso, a cidade antiga é rebaixada a posto avançado e um herói local deve ser nomeado o novo Capitão.
    ◦ O Capitão original (do posto que virou capital) volta a ser um herói comum, mas fica proibido de retornar à cidade antiga.
• Condição de Falha:
    ◦ Se o Capitão morrer, o posto avançado e todas as suas construções são instantaneamente destruídos.
    ◦ Os heróis sobreviventes daquele posto retornam à capital, mas perdem seu status de herói, tornando-se guardas permanentes.

--------------------------------------------------------------------------------
9.2. Traição e Facções Inimigas
Nem todos os heróis permanecem leais à coroa. A ganância, a baixa ética e influências externas podem transformar seus aliados em seus piores inimigos.
• O Herói Corrompido:
    ◦ Um herói individual, motivado por traços de ganância ou covardia, pode ser corrompido por um vilão (como um Necromante).
    ◦ No momento da traição, o Majesty perde completamente a visão (Névoa de Guerra) sobre esse herói no mapa.
    ◦ Ele se torna um inimigo ativo, podendo ser alvo de recompensas de caça emitidas pelo próprio monarca.
• A Colônia Rebelde:
    ◦ Em um evento raro e de alto impacto (ocorre apenas uma vez por partida), um grupo de três heróis com baixa lealdade e alta ganância pode desertar.
    ◦ Eles fundam uma colônia inimiga autônoma no mapa, com seu próprio líder e mecânicas automatizadas.
    ◦ Essa facção age de forma "viva", competindo por recursos e representando uma ameaça constante à soberania do monarca.

===

A seção Narrativa Emergente e Legado de Heroes of Majesty: The Legacy foca em transformar a simulação autônoma de heróis em uma história épica e memorável. O objetivo é que cada partida não seja apenas um conjunto de dados, mas uma saga única que deixa rastro para futuras jogatinas.
Abaixo estão os detalhes de cada tópico deste item:

--------------------------------------------------------------------------------
10.1. Crônicas do Reino (A "Revistinha" Final)
Este sistema captura a narrativa que surge organicamente durante a partida e a transforma em um artefato tangível.
• Log de Eventos: Um serviço global "escuta" e armazena registros detalhados de momentos-chave, como mortes de chefes, traições, amizades formadas ou o drama de um Kill Steal (KS).
• Geração por IA: Ao final do jogo, uma IA lê esses logs e gera uma crônica ilustrada.
• Composição das Páginas: O sistema combina textos narrativos (escritos com a personalidade do Conselheiro) e imagens geradas por IA (ou templates marcados) para montar as páginas da história.
• Legado Compartilhável: O jogador pode salvar essa crônica como um PDF para compartilhar com a comunidade ou guardar como registro de sua saga.
10.2. Sonhos e Sussurros
Para aprofundar a imersão na "vida interna" dos heróis, a IA gera vislumbres de seus pensamentos.
• Pensamentos Aleatórios: Pequenos balões de texto aparecem sobre os heróis quando estão ociosos ou descansando.
• Contexto e Personalidade: O conteúdo dos sussurros é baseado nos traços de personalidade e em eventos recentes (ex: um herói ganancioso sonhando com tesouros ou um herói covarde aliviado por ter fugido de uma luta).
• Gatilhos de Exploração: Ocasionalmente, um sussurro pode dar uma dica sutil sobre um local ou tesouro escondido, incentivando o monarca a influenciar a exploração naquela direção.
10.3. Títulos e Epítetos Dinâmicos
A fama dos heróis é construída através de seus feitos reais no mundo.
• Rastreamento de Estatísticas: O jogo monitora dados como número de monstros específicos derrotados ou tesouros encontrados.
• Concessão de Títulos: Se um herói mata muitos ogros, por exemplo, ele recebe o epíteto "o Matador de Ogros".
• Uso Narrativo: Esses títulos não são apenas cosméticos; eles são usados ativamente pelo Conselheiro em seus relatórios e aparecem nas Crônicas do Reino.
10.4. Modo Historiador (Modo Replay)
Transforma a análise pós-jogo em uma experiência de "leitura de um livro mágico" sobre a mesa de estratégia.
• O Pergaminho do Tempo: A interface de chat é substituída por uma linha do tempo em formato de pergaminho, permitindo navegar pelos eventos.
• Marcadores de Eventos: Ícones de caveiras (mortes), espadas (combates) e coroas (chefes) facilitam o salto para os momentos críticos.
• Visão Onisciente (God Mode): No replay, o jogador pode desativar a Névoa de Guerra para ver o que os monstros e o vilão faziam enquanto os heróis não estavam olhando.
• Filtros de Memória: É possível aplicar filtros visuais (como tons de sépia) para diferenciar o replay do jogo ao vivo.
10.5. Ecos do Passado e Legado de Persistência
O jogo recompensa o sucesso a longo prazo e cria uma continuidade histórica entre diferentes partidas.
• Referências Históricas: Heróis em novos jogos podem encontrar itens lendários com inscrições que mencionam heróis de partidas anteriores (ex: "A espada de Sir Kaelen").
• Desbloqueio de Classes: Derrotar o Vilão Final pode desbloquear a classe dele como uma opção recrutável em futuras partidas.
• Background Procedural: Cada herói tem um background gerado por IA que justifica seus traços (ex: ser covarde por um trauma de infância), criando uma conexão emocional imediata.

===

O Item 11 de Heroes of Majesty: The Legacy trata dos Modos Multiplayer, que expandem a filosofia de controle indireto para interações entre jogadores. Em vez de uma batalha de cliques e microgerenciamento, o multiplayer é descrito como uma "Guerra de Influências" ou um "Dueto de Cooperação", onde o foco é manipular o ecossistema de heróis autônomos para superar ou ajudar o outro jogador.

--------------------------------------------------------------------------------
11.1. Modo Cooperativo: "A Aliança dos Reinos Indiretos"
Nesta modalidade, dois jogadores atuam em um mapa compartilhado gerado proceduralmente, cada um gerenciando seu próprio reino, mas com objetivos comuns, como derrotar um chefe épico.
• Sinergia de Fronteiras: Jogadores podem construir guildas e lojas estrategicamente perto da fronteira do aliado, criando "zonas de apoio" onde heróis de ambos os reinos podem se curar ou reequipar.
• Interação Social Entre Reinos: Os heróis autônomos interagem entre si organicamente:
    ◦ Grupos Mistos: Heróis de reinos diferentes podem formar grupos de até 3 membros para caçar juntos.
    ◦ Atos Heroicos e Tensões: Um guerreiro leal de um jogador pode salvar o mago do outro, gerando amizade; inversamente, um ladino ganancioso pode roubar o golpe final (KS) de um herói aliado, criando rivalidades cômicas.
• Fofoca de Conselheiros: Os Conselheiros de IA de cada jogador podem "conversar" entre si, trocando dicas ou "fofocando" sobre o comportamento dos heróis do reino vizinho.
• Legado Compartilhado: Ao final, a IA gera uma única "Crônica da Aliança", uma revistinha ilustrada que narra a saga conjunta da dupla.
11.2. Modo Competitivo (1v1): "A Guerra das Influências"
No PvP, o controle indireto se torna uma arma psicológica. O objetivo é levar o reino adversário ao colapso manipulando a IA dos heróis de forma mais astuta que o oponente.
Mecânica Ofensiva
    
Descrição e Impacto
Recompensas Ofensivas
    
O jogador coloca ouro na cabeça de heróis ou edifícios estratégicos do inimigo, incentivando seus próprios heróis (gananciosos ou corajosos) a atacarem o alvo.
Exploração do Caos Social
    
Se um herói inimigo recebe a bandeira vermelha (pvp_flag) por atacar um colega, o jogador pode colocar uma recompensa nele, atraindo heróis para agirem como "justiceiros".
Espionagem e Blefe
    
O Conselheiro de IA atua como espião, fornecendo informações sobre o rival que podem ser imprecisas ou falsas, exigindo gestão de risco.
Névoa de Guerra Individual
    
Cada jogador tem sua própria visão do mapa, tornando a exploração essencial para localizar a base e os pontos fracos do rival.
11.3. PvP Assimétrico: Mestre da Masmorra vs. Lorde do Reino
Este modo coloca os jogadores em papéis opostos:
• Lorde do Reino: Gerencia a vila, recruta heróis e tenta expandir a influência.
• Mestre da Masmorra: Possui visão total do mapa e usa um pool de "pontos de perigo" para instanciar monstros e armadilhas em áreas que o Lorde ainda não explorou, tentando aniquilar os heróis dele.
11.4. Infraestrutura Técnica e de Design
• Arquitetura: Diferente de planos anteriores, o multiplayer é desenvolvido exclusivamente na Godot Engine, sem tecnologias web como Angular.
• Sincronização: Utiliza um backend robusto onde o GameStore (a fonte da verdade) é sincronizado em tempo real entre os clientes para evitar trapaças e dessincronização.
• Storytelling de Rivalidade: A crônica final do PvP apresenta páginas alternadas, mostrando a perspectiva de vitória de um lado e a derrota dramática (ou a emboscada orquestrada) do outro.